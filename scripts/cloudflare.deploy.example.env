# Cloudflare API credentials (required for all deploys)
CLOUDFLARE_ACCOUNT_ID=00000000000000000000000000000000
CLOUDFLARE_API_TOKEN=cf_example_token_with_workers_pages_d1_scopes

# Shared backend configuration (required even when --skip-worker is provided)
CF_D1_DATABASE_NAME=templ-backend
CF_D1_DATABASE_ID=00000000-0000-0000-0000-000000000000
BACKEND_SERVER_ID=templ-prod                       # required: must match frontend VITE_BACKEND_SERVER_ID
VITE_BACKEND_URL=https://api.templ.example         # required for Pages build

# Optional D1/Worker tuning
CF_D1_BINDING=TEMPL_DB
CF_COMPATIBILITY_DATE=2024-11-05
TRUSTED_FACTORY_DEPLOYMENT_BLOCK=0                 # strongly recommended in prod
REQUIRE_CONTRACT_VERIFY=1                          # strongly recommended in prod

# Optional additional backend runtime vars for the Worker
# (use CLOUDFLARE_BACKEND_VAR_* for non-secret values)
CLOUDFLARE_BACKEND_VAR_ALLOWED_ORIGINS=https://templ.example,https://app.templ.example
CLOUDFLARE_BACKEND_VAR_LEADER_TTL_MS=60000
# Use Redis for distributed rate limiting (optional)
CLOUDFLARE_BACKEND_VAR_RATE_LIMIT_STORE=redis
# (use CLOUDFLARE_BACKEND_SECRET_* for secrets)
CLOUDFLARE_BACKEND_SECRET_REDIS_URL=redis://default:password@redis.example:6379

# Worker deployment (omit these when running with --skip-worker)
CF_WORKER_NAME=templ-backend                       # required for Worker deploy
APP_BASE_URL=https://templ.example                 # required for Worker deploy
TRUSTED_FACTORY_ADDRESS=0xYourFactory              # required for Worker deploy
TELEGRAM_BOT_TOKEN=123456:bot-token-from-botfather # optional: enables Telegram
RPC_URL=https://base-mainnet.g.alchemy.com/v2/your-key  # required for Worker deploy

# Frontend build configuration (injected during Vite build)
VITE_BACKEND_SERVER_ID=templ-prod                  # must match BACKEND_SERVER_ID
VITE_TEMPL_FACTORY_ADDRESS=0xYourFactory           # required for Pages deploy
VITE_TEMPL_FACTORY_DEPLOYMENT_BLOCK=12345678       # required for Pages deploy
VITE_TEMPL_FACTORY_PROTOCOL_RECIPIENT=0xProtocolTreasury
VITE_TEMPL_FACTORY_PROTOCOL_PERCENT=10
VITE_RPC_URL=https://base-mainnet.g.alchemy.com/v2/your-key

# Cloudflare Pages deployment
CF_PAGES_PROJECT=templ-frontend
CF_PAGES_BRANCH=production
